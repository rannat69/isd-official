@import 'tailwindcss';
@plugin "daisyui";

/* TODO add global font styles */

/* Design tokens */
:root {
    /* Primary colors */
    --isd-primary: #003974;
    /* Primary */
    --isd-primary-2: #f1f7ff;
    /* Primary_2 */
    --isd-primary-3: #bcc7d9;
    /* Primary_3 */

    /* Secondary colors */
    --isd-secondary: #ec7b60;
    /* Secondary */
    --isd-secondary-1: #fff4f2;
    /* Secondary_1 */

    /* Font colors */
    --isd-font-1: #1e1e1e;
    /* Font_1 */
    --isd-font-2: #979fa8;
    /* Font_2 */
    --isd-font-3: #64686d;
    /* Font_3 */

    /* Spacing tokens */
    --container-max-width: 1224px;
    --section-gap: 108px;
    /* Section to Section */
    --section-title-gap: 48px;
    /* Section title to content */
    --component-gap: 72px;
    /* Component within Section */
    --component-gap-sm: 36px;
    /* Component within Section (small) */
    --element-gap: 18px;
    /* Element within Component */
    --footer-gap: 6px;
    /* Footer content to content */

    /* Font sizes */
    --h1: 48px;
    --h2: 24px;
    --nav: 16px;
    --lg: 20px;
    --md: 17px;
    --sm: 15px;
    --footer-header: 15px;
    --footer: 15px;
    --callout: 12px;
    --callout-link: 12px;

    /* Line heights */
    --h1--line-height: 60px;
    --h2--line-height: 28px;
    --nav--line-height: 26px;
    --lg--line-height: 26px;
    --md--line-height: 26px;
    --sm--line-height: 24px;
    --footer-header--line-height: 18px;
    --footer--line-height: 18px;
    --callout--line-height: 12px;
    --callout-link--line-height: 12px;

    /* Font weights */
    --h1--font-weight: bold;
    --h2--font-weight: bold;
    --nav--font-weight: bold;
    --footer-header--font-weight: bold;
    --callout-link--font-weight: bold;

    /* Letter spacing */
    --footer--letter-spacing: -0.8%;
    --callout--letter-spacing: -0.8%;
    --callout-link--letter-spacing: -0.8%;
}

@media (max-width: 64rem) {
    /* lg */
    :root {
        /* idk what's happening with the new spacing guidelines so some of these aren't filled in */
        --section-gap: 72px;
        --section-title-gap: 24px;
        --component-gap: 36px;
        --component-gap-sm: 24px;

        /* Font sizes */
        --h1: 28px;
        --h2: 22px;
        --nav: 17px;
        /* h3 is replaced with lg */
        --lg: 20px;
        --md: 17px;
        --sm: 15px;

        /* Line heights */
        --h1--line-height: 34px;
        --h2--line-height: 28px;
        --nav--line-height: 26px;
        --lg--line-height: 25px;
        --md--line-height: 22px;
        --sm--line-height: 21px;

        /* Font weights */
        --h1--font-weight: bold;
        --h2--font-weight: bold;
        --lg--font-weight: bold;
        --nav--font-weight: bold;
    }
}

/* Register custom colors with Tailwind v4 */
@theme {
    --breakpoint-xl: 87.5rem; /* 1400px */

    --color-isd-primary: var(--isd-primary);
    --color-isd-primary-2: var(--isd-primary-2);
    --color-isd-primary-3: var(--isd-primary-3);
    --color-isd-secondary: var(--isd-secondary);
    --color-isd-secondary-1: var(--isd-secondary-1);
    --color-isd-font-1: var(--isd-font-1);
    --color-isd-font-2: var(--isd-font-2);
    --color-isd-font-3: var(--isd-font-3);

    /* Spacing tokens */
    --spacing-section-gap: var(--section-gap);
    --spacing-section-title-gap: var(--section-title-gap);
    --spacing-component-gap: var(--component-gap);
    --spacing-component-gap-sm: var(--component-gap-sm);
    --spacing-element-gap: var(--element-gap);
    --spacing-footer-gap: var(--footer-gap);

    /* Container max width */
    --max-width-container: var(--container-max-width);

    /* Font sizes */
    --text-h1: var(--h1);
    --text-h2: var(--h2);
    --text-nav: var(--nav);
    --text-lg: var(--lg);
    --text-md: var(--md);
    --text-sm: var(--sm);
    --text-footer-header: var(--footer-header);
    --text-footer: var(--footer);
    --text-callout: var(--callout);
    --text-callout-link: var(--callout-link);

    /* Line heights */
    --text-h1--line-height: var(--h1--line-height);
    --text-h2--line-height: var(--h2--line-height);
    --text-nav--line-height: var(--nav--line-height);
    --text-lg--line-height: var(--lg--line-height);
    --text-md--line-height: var(--md--line-height);
    --text-sm--line-height: var(--sm--line-height);
    --text-footer-header--line-height: var(--footer-header--line-height);
    --text-footer--line-height: var(--footer--line-height);
    --text-callout--line-height: var(--callout--line-height);
    --text-callout-link--line-height: var(--callout-link--line-height);

    /* Font weights */
    --text-h1--font-weight: var(--h1--font-weight);
    --text-h2--font-weight: var(--h2--font-weight);
    --text-nav--font-weight: var(--nav--font-weight);
    --text-lg--font-weight: var(--lg--font-weight);
    --text-footer-header--font-weight: var(--footer-header--font-weight);
    --text-callout-link--font-weight: var(--callout-link--font-weight);

    /* Letter spacing */
    --text-footer--letter-spacing: -0.8%;
    --text-callout--letter-spacing: -0.8%;
    --text-callout-link--letter-spacing: -0.8%;
}

/* Simple container helper */
.container {
    max-width: calc(var(--container-max-width) + 2 * var(--component-gap-sm));
    padding-left: var(--component-gap-sm);
    padding-right: var(--component-gap-sm);
    margin-left: auto;
    margin-right: auto;
}

.text-isd-font-3 {
    color: var(--isd-font-3) !important;
}

.text-isd-font-2 {
    color: var(--isd-font-2) !important;
}

.text-isd-font-1 {
    color: var(--isd-font-1) !important;
}

.offset-text-background {
    position: relative;
    /* establish a positioning context for the ::before */
}

.offset-text-background::before {
    content: '';
    position: absolute;
    left: 0;
    /* start under the first character */
    /* adjust bottom so the rectangle sits where you want vertically */
    /* if the rectangle should overlap the baseline area use a small positive bottom (overlapping upward) */
    bottom: 0;
    /* tweak this to line up precisely */
    background: var(--isd-primary-2);
    z-index: -1;
    /* behind the text (headline z-index is 1) */
    pointer-events: none;

    @apply lg:w-[252px] lg:h-[24px] w-[72px] h-[16px];
}

.dot-pattern {
    position: relative;
}

/* Please include position when using these! */
/* Example: before:top-[-95px] before:right-0 */
/* Use the dot-color variable to set the dot color */
/* Example: [--dot-color:var(--isd-secondary-1)] */
.dot-pattern::before {
    content: '';
    position: absolute;
    pointer-events: none;
    width: 410px;
    height: 190px;
    background-image: radial-gradient(
        circle,
        var(--dot-color) 34%,
        transparent 35%
    );
    background-size: 26px 24px;
    background-repeat: repeat;
    z-index: -1;
}

@plugin "daisyui/theme" {
    name: 'isd-official';
    default: true;
    prefersdark: false;
    color-scheme: 'light';
    --color-base-100: #ffffff;
    --color-primary: var(--isd-primary);
    --color-primary-content: #ffffff;
    --color-secondary: var(--isd-secondary);
    --color-secondary-content: #ffffff;
    --color-accent: var(--isd-primary-2);
    --color-accent-content: var(--isd-primary);
    --radius-selector: 0.25rem;
    --radius-field: 2rem;
    --radius-box: 2rem;
    --size-selector: 0.25rem;
    --size-field: 0.25rem;
    --border: 1.5px;
    --depth: 1;
    --noise: 0;
}

[data-tooltip] {
    position: relative;
}

[data-tooltip]::after {
    content: attr(data-tooltip);
    position: absolute;
    top: -8px;
    /* tune vertical position */
    left: 50%;
    transform: translate(-50%, -100%);
    white-space: nowrap;
    padding: 6px 12px;
    background: var(--isd-primary-2);
    color: var(--isd-primary);
    opacity: 0;
    pointer-events: none;
    transition:
        opacity 150ms ease,
        transform 150ms ease;
    z-index: 50;

    @apply text-sm shadow-lg shadow-black/30 z-40;
    /* hide by default above */
}

/* little triangle with ::before */

/* show on hover or keyboard focus */
:hover[data-tooltip]::after,
:focus[data-tooltip]::after,
:focus-visible[data-tooltip]::after {
    opacity: 1;
}

/* Prevent tooltip from escaping to the left/right too far on small screens */
@media (max-width: 420px) {
    [data-tooltip]::after {
        left: 50%;
        transform: translate(-50%, -100%);
        white-space: normal;
        /* allow wrap on tiny screens */
        max-width: 200px;
        text-align: center;
    }
}
